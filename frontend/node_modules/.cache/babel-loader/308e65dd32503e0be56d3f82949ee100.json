{"ast":null,"code":"import _slicedToArray from\"E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PopupWithForm from\"../PopupWithForm/PopupWithForm\";import{CurrentUserContext}from\"../../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;// Подписка на контекст\nvar currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(\"Жак Ив Кусто\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"Исследователь океана\"),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nReact.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleChangeName(evt){setName(evt.target.value);}function handleChangeDescription(evt){setDescription(evt.target.value);}function handleSubmit(evt){// Запрещаем браузеру переходить по адресу формы\nevt.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile_edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,buttonTitle:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"el-name-input\",className:\"popup__field-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"el-name-input\",className:\"popup__field popup__field_el_name\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",value:name||'',onChange:handleChangeName}),/*#__PURE__*/_jsx(\"span\",{className:\"el-name-input-error popup__field-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"el-description-input\",className:\"popup__field-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",id:\"el-description-input\",className:\"popup__field popup__field_el_description\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",maxLength:\"200\",value:description||'',onChange:handleChangeDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"el-description-input-error popup__field-error\",children:\" \"})]})]});}export default EditProfilePopup;","map":{"version":3,"sources":["E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/src/components/EditProfilePopup/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","handleChangeName","evt","target","value","handleChangeDescription","handleSubmit","preventDefault"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,OAASC,kBAAT,KAAmC,mCAAnC,C,wFACA,QAASC,CAAAA,gBAAT,MAIG,IAHDC,CAAAA,MAGC,MAHDA,MAGC,CAFDC,OAEC,MAFDA,OAEC,CADDC,YACC,MADDA,YACC,CACD;AACA,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBN,kBAAjB,CAApB,CACA,oBAAwBF,KAAK,CAACS,QAAN,CAAe,cAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCX,KAAK,CAACS,QAAN,CAAe,sBAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBACA;AACA;AACAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBH,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACQ,KAAb,CAAd,CACD,CAHD,CAGG,CAACR,WAAD,CAAcH,MAAd,CAHH,EAKA,QAASY,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC7BN,OAAO,CAACM,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CACpCJ,cAAc,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACD,CACD,QAASE,CAAAA,YAAT,CAAsBJ,GAAtB,CAA2B,CACzB;AACAA,GAAG,CAACK,cAAJ,GAEA;AACAhB,YAAY,CAAC,CACXI,IAAI,CAAJA,IADW,CAEXK,KAAK,CAAEH,WAFI,CAAD,CAAZ,CAID,CACD,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,cADP,CAEE,KAAK,CAAC,2HAFR,CAGE,MAAM,CAAER,MAHV,CAIE,OAAO,CAAEC,OAJX,CAKE,QAAQ,CAAEgB,YALZ,CAME,WAAW,CAAC,wDANd,wBAOE,eAAO,OAAO,CAAC,eAAf,CAA+B,SAAS,CAAC,sBAAzC,wBACE,cAAO,IAAI,CAAC,MAAZ,CACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,eAFL,CAGE,SAAS,CAAC,mCAHZ,CAIE,WAAW,CAAC,oBAJd,CAKE,QAAQ,KALV,CAKW,SAAS,CAAC,GALrB,CAKyB,SAAS,CAAC,IALnC,CAME,KAAK,CAAEX,IAAI,EAAI,EANjB,CAOE,QAAQ,CAAEM,gBAPZ,EADF,cAUE,aAAM,SAAS,CAAC,wCAAhB,EAVF,GAPF,cAmBE,eAAO,OAAO,CAAC,sBAAf,CAAsC,SAAS,CAAC,sBAAhD,wBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,aAFP,CAGE,EAAE,CAAC,sBAHL,CAIE,SAAS,CAAC,0CAJZ,CAKE,WAAW,CAAC,iCALd,CAME,QAAQ,KANV,CAMW,SAAS,CAAC,GANrB,CAMyB,SAAS,CAAC,KANnC,CAOE,KAAK,CAAEJ,WAAW,EAAI,EAPxB,CAQE,QAAQ,CAAEQ,uBARZ,EADF,cAWE,aAAM,SAAS,CAAC,+CAAhB,eAXF,GAnBF,GADF,CAmCD,CACD,cAAejB,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser\n}) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"Жак Ив Кусто\");\n  const [description, setDescription] = React.useState(\"Исследователь океана\");\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleChangeDescription(evt) {\n    setDescription(evt.target.value);\n  }\n  function handleSubmit(evt) {\n    // Запрещаем браузеру переходить по адресу формы\n    evt.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  return (\n    <PopupWithForm\n      name=\"profile_edit\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonTitle=\"Сохранить\">\n      <label htmlFor=\"el-name-input\" className=\"popup__field-wrapper\">\n        <input type=\"text\"\n          name=\"name\"\n          id=\"el-name-input\"\n          className=\"popup__field popup__field_el_name\"\n          placeholder=\"Имя\"\n          required minLength=\"2\" maxLength=\"40\"\n          value={name || ''}\n          onChange={handleChangeName}\n        />\n        <span className=\"el-name-input-error popup__field-error\"></span>\n      </label>\n      <label htmlFor=\"el-description-input\" className=\"popup__field-wrapper\">\n        <input\n          type=\"text\"\n          name=\"description\"\n          id=\"el-description-input\"\n          className=\"popup__field popup__field_el_description\"\n          placeholder=\"О себе\"\n          required minLength=\"2\" maxLength=\"200\"\n          value={description || ''}\n          onChange={handleChangeDescription}\n        />\n        <span className=\"el-description-input-error popup__field-error\"> </span>\n      </label>\n    </PopupWithForm>\n  )\n}\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}