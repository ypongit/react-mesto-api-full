{"ast":null,"code":"import React from\"react\";import api from\"../../utils/Api\";import{CurrentUserContext}from\"../../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,name=_ref.name,likes=_ref.likes,owner=_ref.owner,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=React.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=owner._id===currentUser._id;// console.log('isOwn -> ', isOwn)\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"element__delete-button \".concat(isOwn?'element__delete-button_visible':'');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=likes.some(function(i){return i._id===currentUser._id;});// console.log('isLiked -> ', isLiked);\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__like-button \".concat(isLiked?'element__like-button_active':'',\" \");function handleClick(){onCardClick(card);}function handleLikeClick(){// console.log('handleLikeClick ->', card)\nonCardLike(card);}function handleDeleteClick(){onCardDelete(card);}return/*#__PURE__*/_jsxs(\"article\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cardDeleteButtonClassName,onClick:handleDeleteClick}),/*#__PURE__*/_jsx(\"img\",{src:card.link,alt:card.name,className:\"element__image\",onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__heading\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__heading-text\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__like-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"span\",{className:\"element__like-count\",children:likes.length})]})]})]});}export default Card;","map":{"version":3,"sources":["E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/src/components/Card/Card.js"],"names":["React","api","CurrentUserContext","Card","card","name","likes","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","handleClick","handleLikeClick","handleDeleteClick","link","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,OAASC,kBAAT,KAAmC,mCAAnC,C,wFAEA,QAASC,CAAAA,IAAT,MAQG,IAPDC,CAAAA,IAOC,MAPDA,IAOC,CANDC,IAMC,MANDA,IAMC,CALDC,KAKC,MALDA,KAKC,CAJDC,KAIC,MAJDA,KAIC,CAHDC,WAGC,MAHDA,WAGC,CAFDC,UAEC,MAFDA,UAEC,CADDC,YACC,MADDA,YACC,CACD,GAAMC,CAAAA,WAAW,CAAGX,KAAK,CAACY,UAAN,CAAiBV,kBAAjB,CAApB,CACA;AACA,GAAMW,CAAAA,KAAK,CAAGN,KAAK,CAACO,GAAN,GAAcH,WAAW,CAACG,GAAxC,CACA;AACF;AACE,GAAMC,CAAAA,yBAAyB,kCACHF,KAAK,CAAG,gCAAH,CAAsC,EADxC,CAA/B,CAGA;AACF,GAAMG,CAAAA,OAAO,CAAGV,KAAK,CAACW,IAAN,CAAW,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACJ,GAAF,GAAUH,WAAW,CAACG,GAA1B,EAAZ,CAAhB,CACA;AACA;AACA,GAAMK,CAAAA,uBAAuB,gCAA2BH,OAAO,CAAG,6BAAH,CAAmC,EAArE,KAA7B,CACE,QAASI,CAAAA,WAAT,EAAuB,CACrBZ,WAAW,CAACJ,IAAD,CAAX,CACD,CACH,QAASiB,CAAAA,eAAT,EAA0B,CACxB;AACAZ,UAAU,CAACL,IAAD,CAAV,CACD,CACD,QAASkB,CAAAA,iBAAT,EAA4B,CAC1BZ,YAAY,CAACN,IAAD,CAAZ,CACD,CACC,mBACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAEW,yBAAjC,CAA4D,OAAO,CAAEO,iBAArE,EADF,cAEE,YACE,GAAG,CAAElB,IAAI,CAACmB,IADZ,CAEE,GAAG,CAAEnB,IAAI,CAACC,IAFZ,CAGE,SAAS,CAAC,gBAHZ,CAIE,OAAO,CAAEe,WAJX,EAFF,cAQE,aAAK,SAAS,CAAC,kBAAf,wBACE,WAAI,SAAS,CAAC,uBAAd,UAAuCf,IAAvC,EADF,cAEE,aAAK,SAAS,CAAC,oBAAf,wBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAEc,uBAAjC,CAA0D,OAAO,CAAEE,eAAnE,EADF,cAEE,aAAM,SAAS,CAAC,qBAAhB,UAAuCf,KAAK,CAACkB,MAA7C,EAFF,GAFF,GARF,GADF,CAkBD,CAED,cAAerB,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport api from \"../../utils/Api\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Card({\n  card,\n  name,\n  likes,\n  owner,\n  onCardClick,\n  onCardLike,\n  onCardDelete\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = owner._id === currentUser._id;\n  // console.log('isOwn -> ', isOwn)\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? 'element__delete-button_visible' : ''}`\n  );\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nconst isLiked = likes.some(i => i._id === currentUser._id);\n// console.log('isLiked -> ', isLiked);\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\nconst cardLikeButtonClassName = `element__like-button ${isLiked ? 'element__like-button_active' : '' } `;\n  function handleClick() {\n    onCardClick(card);\n  }\nfunction handleLikeClick(){\n  // console.log('handleLikeClick ->', card)\n  onCardLike(card);\n}\nfunction handleDeleteClick(){\n  onCardDelete(card);\n}\n  return (\n    <article className=\"element\">\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <img\n        src={card.link}\n        alt={card.name}\n        className='element__image'\n        onClick={handleClick}\n      />\n      <div className=\"element__heading\">\n        <h2 className=\"element__heading-text\">{name}</h2>\n        <div className=\"element__like-wrap\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <span className=\"element__like-count\">{likes.length}</span>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}