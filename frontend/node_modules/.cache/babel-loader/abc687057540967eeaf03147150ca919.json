{"ast":null,"code":"import _defineProperty from\"E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,withRouter}from\"react-router-dom\";import*as mestoAuth from'../../mestoAuth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(props){var _useState=useState({email:'',password:'',message:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setState(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log('state!',state);// TODO: добавить логику обработки формы регистрации\n// if (state.password === state.confirmPassword){}\nvar email=state.email,password=state.password;props.handleRegister(email,password).catch(function(err){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{message:err});});});/* mestoAuth.register(state.email, state.password)\r\n    .then((res) => {\r\n      if(res){\r\n        setState({\r\n          message: ''\r\n        }, () => {\r\n          props.history.push('/signin');\r\n        })\r\n      }\r\n    }) */};return/*#__PURE__*/_jsxs(\"section\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"register__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"register__error\",children:state.message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"register__form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"register__input\",name:\"email\",id:\"email\",required:true,minLength:\"2\",maxLength:\"20\",placeholder:\"Email\",value:state.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"register__input\",name:\"password\",id:\"password\",required:true,minLength:\"2\",maxLength:\"20\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:state.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"register__submit\",type:\"submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/_jsx(Link,{className:\"register__link\",to:\"/signin\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default Register;","map":{"version":3,"sources":["E:/OpenServer_5_3_8/domains/yprac.local/react-mesto-api-full/frontend/src/components/Register/Register.js"],"names":["React","useState","Link","withRouter","mestoAuth","Register","props","email","password","message","state","setState","handleChange","e","target","name","value","prev","handleSubmit","preventDefault","console","log","handleRegister","catch","err"],"mappings":"kdAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAAQC,IAAR,CAAcC,UAAd,KAA+B,kBAA/B,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,iBAA3B,C,wFAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACvB,cAA0BL,QAAQ,CAAC,CACjCM,KAAK,CAAE,EAD0B,CAEjCC,QAAQ,CAAE,EAFuB,CAGjCC,OAAO,CAAE,EAHwB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,cAAsBA,CAAC,CAACC,MAAxB,CAAOC,IAAP,WAAOA,IAAP,CAAaC,KAAb,WAAaA,KAAb,CACAL,QAAQ,CAAC,SAACM,IAAD,wCACJA,IADI,wBAENF,IAFM,CAECC,KAFD,IAAD,CAAR,CAID,CAND,CAOA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,CAAD,CAAO,CAC1BA,CAAC,CAACM,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBX,KAAtB,EACA;AACA;AACA,GAAKH,CAAAA,KAAL,CAAwBG,KAAxB,CAAKH,KAAL,CAAYC,QAAZ,CAAwBE,KAAxB,CAAYF,QAAZ,CACAF,KAAK,CAACgB,cAAN,CAAqBf,KAArB,CAA4BC,QAA5B,EACCe,KADD,CACO,SAACC,GAAD,CAAS,CACdb,QAAQ,CAAC,SAAAM,IAAI,wCACRA,IADQ,MAEXR,OAAO,CAAEe,GAFE,IAAL,CAAR,CAID,CAND,EAOA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAEG,CAxBD,CA0BA,mBACE,iBAAS,SAAS,CAAC,UAAnB,wBACE,WAAI,SAAS,CAAC,iBAAd,gFADF,cAEE,UAAG,SAAS,CAAC,iBAAb,UACGd,KAAK,CAACD,OADT,EAFF,cAKE,cAAM,QAAQ,CAAES,YAAhB,CAA8B,SAAS,CAAC,gBAAxC,wBACE,cACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,EAAE,CAAC,OAJL,CAKE,QAAQ,KALV,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,IAPZ,CAQE,WAAW,CAAC,OARd,CASE,KAAK,CAAER,KAAK,CAACH,KATf,CAUE,QAAQ,CAAEK,YAVZ,EADF,cAaE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,EAAE,CAAC,UAJL,CAKE,QAAQ,KALV,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,IAPZ,CAQE,WAAW,CAAC,sCARd,CASE,KAAK,CAAEF,KAAK,CAACF,QATf,CAUE,QAAQ,CAAEI,YAVZ,EAbF,cA0BE,eACE,SAAS,CAAC,kBADZ,CAEE,IAAI,CAAC,QAFP,0HA1BF,cA8BE,KAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,CAAiC,EAAE,CAAC,SAApC,iKA9BF,GALF,GADF,CA0CD,CAED,cAAeP,CAAAA,QAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport * as mestoAuth from '../../mestoAuth'\r\n\r\nfunction Register(props) {\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    password: '',\r\n    message: ''\r\n  })\r\n\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    setState((prev) => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('state!', state)\r\n    // TODO: добавить логику обработки формы регистрации\r\n    // if (state.password === state.confirmPassword){}\r\n    let {email, password} = state;\r\n    props.handleRegister(email, password)\r\n    .catch((err) => {\r\n      setState(prev => ({\r\n        ...prev,\r\n        message: err\r\n      }))\r\n    });\r\n    /* mestoAuth.register(state.email, state.password)\r\n    .then((res) => {\r\n      if(res){\r\n        setState({\r\n          message: ''\r\n        }, () => {\r\n          props.history.push('/signin');\r\n        })\r\n      }\r\n    }) */\r\n\r\n  }\r\n\r\n  return (\r\n    <section className=\"register\">\r\n      <h2 className=\"register__title\">Регистрация</h2>\r\n      <p className=\"register__error\">\r\n        {state.message}\r\n      </p>\r\n      <form onSubmit={handleSubmit} className=\"register__form\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"register__input\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          placeholder=\"Email\"\r\n          value={state.email}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"register__input\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          placeholder=\"Пароль\"\r\n          value={state.password}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <button\r\n          className=\"register__submit\"\r\n          type='submit'\r\n        >Зарегистрироваться</button>\r\n        <Link className=\"register__link\" to=\"/signin\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}